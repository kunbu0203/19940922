!async function(){var a=Math.floor(2*Math.random())+1;$(".task-num, [data-target]").text(a);var w=a*$("[data-item]").length;let v=0,e=30,t=null,y=!1;function f(){clearInterval(t),y=!1,t=null}const P=new PIXI.Application;function n(){var a=document.querySelector("#canvas-container").offsetWidth;P.stage.scale.set(a/1170)}await P.init({backgroundAlpha:0,resizeTo:document.querySelector("#canvas-container"),resolution:window.devicePixelRatio||1,autoDensity:!0,antialias:!0}),document.querySelector("#canvas-container").appendChild(P.view),(async a=>{let{x:e,y:t,width:n,height:i,imgName:o,hitArea:s}=a;var d=o.split("-")[0];const l=new PIXI.Container;l.x=e+.5*n,l.y=t+.5*i,P.stage.addChild(l);var r,c,a=await PIXI.Assets.load(`https://kunbu0203.github.io/19940922/assets/image/map${mapNum}/game/items/${o}.png`);const u=new PIXI.Sprite(a);u.anchor.set(.5),u.eventMode="static",u.cursor="pointer",void 0!==s&&0<s.length&&(r=-.5*n,c=-.5*i,h=s.map((a,e)=>e%2==0?a+r:a+c),u.hitArea=new PIXI.Polygon(h)),u.on("pointerdown",()=>{y&&(u.eventMode="none","coffee"!==d?(score[d]++,v++,$(`[data-item="${d}"]`).find("[data-num]").text(score[d]),m.play()):$(".game-stage").addClass("-coffee"),w===v&&setTimeout(()=>{f()},1e3),g.play())});var h=await PIXI.Assets.load(`https://kunbu0203.github.io/19940922/assets/image/map${mapNum}/game/original/${o}.png`);const p=new PIXI.Sprite(h);p.anchor.set(.5),p.alpha=0,l.addChild(u),l.addChild(p);const m=gsap.timeline();if(m.pause(),"coffee"!==d){h=await PIXI.Assets.load("https://kunbu0203.github.io/19940922/assets/image/other/add.png");const I=new PIXI.Sprite(h);I.x=e+.5*n-55,I.y=t-86,I.alpha=0,m.to(I,{alpha:1,duration:.3}).to(I,{alpha:0,duration:.3,delay:.3}),P.stage.addChild(I)}const g=gsap.timeline();g.pause(),g.to(l.scale,{x:1.3,y:1.3,duration:.5,ease:"back.out(4)"}).to(p,{alpha:1,duration:.5},"<").to(l,{alpha:0,duration:.3,delay:.2})})({x:158,y:540,width:113,height:91,imgName:"redDate-1"}),window.addEventListener("resize",()=>{n()}),n(),null===t&&(y=!0,t=setInterval(()=>{e--,$("[data-second]").text(e),e<=0&&f()},1e3))}();
//# sourceMappingURL=pixi-game-redDate-hit.min.js.map
