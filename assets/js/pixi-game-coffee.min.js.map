{"version":3,"sources":["assets/js/pixi-game-coffee.js"],"names":["targetNum","Math","floor","random","$","text","length","second","timer","isStart","app","PIXI","Application","init","backgroundAlpha","resizeTo","document","querySelector","resolution","window","devicePixelRatio","autoDensity","antialias","appendChild","view","container","Container","x","y","stage","addChild","itemTexture","Assets","load","item","Sprite","anchor","set","eventMode","cursor","originalTexture","original","stageResize","canvasW","offsetWidth","scale","alpha","addEventListener","setInterval","clearInterval"],"mappings":"CAAA,iBAEI,IAAMA,EAAYC,KAAKC,MAAsB,EAAhBD,KAAKE,UAAgB,EAElDC,EAAE,4BAA4BC,KAAKL,GACHI,EAAE,eAAeE,OAIjD,IAAIC,EAAS,GACTC,EAAQ,KACRC,GAAU,EAuBd,MAAMC,EAAM,IAAIC,KAAKC,kBACfF,EAAIG,KAAK,CAGXC,gBAAiB,EACjBC,SAAUC,SAASC,cAAc,qBACjCC,WAAYC,OAAOC,kBAAoB,EACvCC,aAAa,EACbC,WAAW,IAEfN,SAASC,cAAc,qBAAqBM,YAAYb,EAAIc,MAE5D,MAAMC,EAAY,IAAId,KAAKe,UAC3BD,EAAUE,EAAI,IACdF,EAAUG,EAAI,OACdlB,EAAImB,MAAMC,SAASL,GAEbM,QAAoBpB,KAAKqB,OAAOC,KAAM,gFAC5C,MAAMC,EAAO,IAAIvB,KAAKwB,OAAOJ,GAC7BG,EAAKE,OAAOC,IAAI,IAChBH,EAAKI,UAAY,SACjBJ,EAAKK,OAAS,UAERC,QAAwB7B,KAAKqB,OAAOC,KAAM,mFAChD,MAAMQ,EAAW,IAAI9B,KAAKwB,OAAOK,GAWjC,SAASE,IACL,IAAMC,EAAU3B,SAASC,cAAc,qBAAqB2B,YAC5DlC,EAAImB,MAAMgB,MAAMR,IAAIM,EAAU,MAZlCF,EAASL,OAAOC,IAAI,IACpBI,EAASK,MAAQ,EAEjBrB,EAAUK,SAASI,GACnBT,EAAUK,SAASW,GAEnBtB,OAAO4B,iBAAiB,SAAU,KAC9BL,MAEJA,IArDkB,OAAVlC,IAEJC,GAAU,EACVD,EAAQwC,YAAY,KAChBzC,IACAH,EAAE,iBAAiBC,KAAKE,GAEpBA,GAAU,IAKlB0C,cAAczC,GACdC,GAAU,EACVD,EAAQ,OANL,MAvBX","file":"pixi-game-coffee.min.js","sourcesContent":["(async function () {\n    // 取得隨機目標數量(1-2個)\n    const targetNum = Math.floor(Math.random() * 2) + 1;\n    // const targetNum = 4;\n    $('.task-num, [data-target]').text(targetNum);\n    const targetScore = targetNum * $('[data-item]').length;\n    let currentScore = 0;\n\n    // 計時器\n    let second = 30;\n    let timer = null;\n    let isStart = false;\n\n    // 計時開始\n    function startTimer() {\n        if (timer !== null) return; // 避免重複開始\n\n        isStart = true;\n        timer = setInterval(() => {\n            second--;\n            $('[data-second]').text(second);\n\n            if (second <= 0) endTimer();\n        }, 1000);\n    }\n\n    function endTimer() {\n        clearInterval(timer);\n        isStart = false;\n        timer = null;\n        // gameEnd();\n    }\n\n    // 創建遊戲舞台\n    const app = new PIXI.Application();\n    await app.init({\n        // width: 1170,\n        // height: 1624,\n        backgroundAlpha: 0,\n        resizeTo: document.querySelector('#canvas-container'),\n        resolution: window.devicePixelRatio || 1,\n        autoDensity: true,\n        antialias: true\n    });\n    document.querySelector('#canvas-container').appendChild(app.view);\n\n    const container = new PIXI.Container();\n    container.x = 430 + 180 * 0.5;\n    container.y = 1280 + 91 * 0.5;\n    app.stage.addChild(container);\n\n    const itemTexture = await PIXI.Assets.load(`https://kunbu0203.github.io/19940922/assets/image/map1/game/items/coffee.png`);\n    const item = new PIXI.Sprite(itemTexture);\n    item.anchor.set(0.5);\n    item.eventMode = 'static';\n    item.cursor = 'pointer';\n\n    const originalTexture = await PIXI.Assets.load(`https://kunbu0203.github.io/19940922/assets/image/map1/game/original/coffee.png`);\n    const original = new PIXI.Sprite(originalTexture);\n    original.anchor.set(0.5);\n    original.alpha = 0;\n\n    container.addChild(item);\n    container.addChild(original);\n\n    window.addEventListener('resize', () => {\n        stageResize();\n    });\n    stageResize();\n    function stageResize() {\n        const canvasW = document.querySelector('#canvas-container').offsetWidth;\n        app.stage.scale.set(canvasW / 1170);\n    }\n\n    startTimer();\n})();\n"],"sourceRoot":"/"}