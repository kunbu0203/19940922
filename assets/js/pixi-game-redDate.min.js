!async function(){var a=Math.floor(2*Math.random())+1;$(".task-num, [data-target]").text(a);var h=a*$("[data-item]").length;let m=0,e=30,t=null,g=!1;function I(){clearInterval(t),g=!1,t=null}const w=new PIXI.Application;function n(){var a=document.querySelector("#canvas-container").offsetWidth;w.stage.scale.set(a/1170)}await w.init({backgroundAlpha:0,resizeTo:document.querySelector("#canvas-container"),resolution:window.devicePixelRatio||1,autoDensity:!0,antialias:!0}),document.querySelector("#canvas-container").appendChild(w.view),(async a=>{let{x:e,y:t,width:n,height:i,imgName:o}=a;var s=o.split("-")[0];const d=new PIXI.Container;d.x=e+.5*n,d.y=t+.5*i,w.stage.addChild(d),a=await PIXI.Assets.load(`https://kunbu0203.github.io/19940922/assets/image/map${mapNum}/game/items/${o}.png`);const l=new PIXI.Sprite(a);l.anchor.set(.5),l.eventMode="static",l.cursor="pointer",l.on("pointerdown",()=>{g&&(l.eventMode="none","coffee"!==s?(score[s]++,m++,$(`[data-item="${s}"]`).find("[data-num]").text(score[s]),c.play()):$(".game-stage").addClass("-coffee"),h===m&&setTimeout(()=>{I()},1e3),u.play())}),a=await PIXI.Assets.load(`https://kunbu0203.github.io/19940922/assets/image/map${mapNum}/game/original/${o}.png`);const r=new PIXI.Sprite(a);r.anchor.set(.5),r.alpha=0,d.addChild(l),d.addChild(r);const c=gsap.timeline();if(c.pause(),"coffee"!==s){a=await PIXI.Assets.load("https://kunbu0203.github.io/19940922/assets/image/other/add.png");const p=new PIXI.Sprite(a);p.x=e+.5*n-55,p.y=t-86,p.alpha=0,c.to(p,{alpha:1,duration:.3}).to(p,{alpha:0,duration:.3,delay:.3}),w.stage.addChild(p)}const u=gsap.timeline();u.pause(),u.to(d.scale,{x:1.3,y:1.3,duration:.5,ease:"back.out(4)"}).to(r,{alpha:1,duration:.5},"<").to(d,{alpha:0,duration:.3,delay:.2})})({x:158,y:540,width:113,height:91,imgName:"redDate-1"}),window.addEventListener("resize",()=>{n()}),n(),null===t&&(g=!0,t=setInterval(()=>{e--,$("[data-second]").text(e),e<=0&&I()},1e3))}();
//# sourceMappingURL=pixi-game-redDate.min.js.map
